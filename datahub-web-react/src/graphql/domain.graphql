query getDomain($urn: String!) {
    domain(urn: $urn) {
        urn
        id
        properties {
            name
            description
        }
        ownership {
            ...ownershipFields
        }
        institutionalMemory {
            elements {
                url
                author {
                    urn
                    username
                }
                description
                created {
                    actor
                    time
                }
            }
        }
        entities(input: {}) {
            ...searchResults
        }
    }
}

query getDomainTimeliness($urn: String!, $entityStart: Int, $entityCount: Int, $runStart: Int, $runCount: Int) {
  domain(urn: $urn) {
    urn
    id
    properties {
        name
    }
    entities(input: {start: $entityStart, count: $entityCount}) {
      start
      count
      total
      searchResults {
        entity {
          urn
          type
          ... on DataJob {
            urn
            type
            jobId
            dataFlow {
              platform {
                  ...platformFields
              }
            }
            properties {
              name
              description
              customProperties {
                key
                value
              }
            }
            globalTags {
              ...globalTagsFields
            }
            runs(start: $runStart, count: $runCount) {
              count
              start
              total
              runs {
                urn
                type
                properties {
                  customProperties {
                    key
                    value
                  }
                }
                name
                externalUrl
              }
            }
          }
        }
      }
    }
  }
}

query listDomains($input: ListDomainsInput!) {
    listDomains(input: $input) {
        start
        count
        total
        domains {
            urn
            id
            properties {
                name
                description
            }
            ownership {
                ...ownershipFields
            }
            entities(input: { start: 0, count: 1 }) {
                total
            }
        }
    }
}

mutation createDomain($input: CreateDomainInput!) {
    createDomain(input: $input)
}